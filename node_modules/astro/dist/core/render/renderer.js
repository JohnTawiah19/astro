import npath from "path";
async function createRenderer(renderer, impl) {
  const resolvedRenderer = {};
  const {
    default: { name, client, polyfills, hydrationPolyfills, server }
  } = await impl.renderer(renderer);
  resolvedRenderer.name = name;
  if (client)
    resolvedRenderer.source = npath.posix.join(renderer, client);
  resolvedRenderer.serverEntry = npath.posix.join(renderer, server);
  if (Array.isArray(hydrationPolyfills))
    resolvedRenderer.hydrationPolyfills = hydrationPolyfills.map((src) => npath.posix.join(renderer, src));
  if (Array.isArray(polyfills))
    resolvedRenderer.polyfills = polyfills.map((src) => npath.posix.join(renderer, src));
  const { default: rendererSSR } = await impl.server(resolvedRenderer.serverEntry);
  resolvedRenderer.ssr = rendererSSR;
  const completedRenderer = resolvedRenderer;
  return completedRenderer;
}
export {
  createRenderer
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vc3JjL2NvcmUvcmVuZGVyL3JlbmRlcmVyLnRzIl0sCiAgIm1hcHBpbmdzIjogIkFBRUE7QUFPQSw4QkFBcUMsVUFBa0IsTUFBc0M7QUFDNUYsUUFBTSxtQkFBd0I7QUFJOUIsUUFBTTtBQUFBLElBQ0wsU0FBUyxFQUFFLE1BQU0sUUFBUSxXQUFXLG9CQUFvQjtBQUFBLE1BQ3JELE1BQU0sS0FBSyxTQUFTO0FBRXhCLG1CQUFpQixPQUFPO0FBQ3hCLE1BQUk7QUFBUSxxQkFBaUIsU0FBUyxNQUFNLE1BQU0sS0FBSyxVQUFVO0FBQ2pFLG1CQUFpQixjQUFjLE1BQU0sTUFBTSxLQUFLLFVBQVU7QUFDMUQsTUFBSSxNQUFNLFFBQVE7QUFBcUIscUJBQWlCLHFCQUFxQixtQkFBbUIsSUFBSSxDQUFDLFFBQWdCLE1BQU0sTUFBTSxLQUFLLFVBQVU7QUFDaEosTUFBSSxNQUFNLFFBQVE7QUFBWSxxQkFBaUIsWUFBWSxVQUFVLElBQUksQ0FBQyxRQUFnQixNQUFNLE1BQU0sS0FBSyxVQUFVO0FBRXJILFFBQU0sRUFBRSxTQUFTLGdCQUFnQixNQUFNLEtBQUssT0FBTyxpQkFBaUI7QUFDcEUsbUJBQWlCLE1BQU07QUFFdkIsUUFBTSxvQkFBOEI7QUFDcEMsU0FBTztBQUFBOyIsCiAgIm5hbWVzIjogW10KfQo=
