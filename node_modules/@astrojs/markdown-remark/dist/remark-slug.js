import { toString } from "mdast-util-to-string";
import { visit } from "unist-util-visit";
import BananaSlug from "github-slugger";
const slugs = new BananaSlug();
function remarkSlug() {
  return (tree) => {
    slugs.reset();
    visit(tree, (node) => {
      console.log(node);
    });
    visit(tree, "heading", (node) => {
      const data = node.data || (node.data = {});
      const props = data.hProperties || (data.hProperties = {});
      let id = props.id;
      id = id ? slugs.slug(String(id), true) : slugs.slug(toString(node));
      data.id = id;
      props.id = id;
    });
  };
}
export {
  remarkSlug as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL3JlbWFyay1zbHVnLnRzIl0sCiAgIm1hcHBpbmdzIjogIkFBS0E7QUFDQTtBQUNBO0FBRUEsTUFBTSxRQUFRLElBQUk7QUFPSCxzQkFBc0I7QUFDcEMsU0FBTyxDQUFDLFNBQWM7QUFDckIsVUFBTTtBQUNOLFVBQU0sTUFBTSxDQUFDLFNBQVM7QUFDckIsY0FBUSxJQUFJO0FBQUE7QUFFYixVQUFNLE1BQU0sV0FBVyxDQUFDLFNBQVM7QUFDaEMsWUFBTSxPQUFPLEtBQUssUUFBUyxNQUFLLE9BQU87QUFDdkMsWUFBTSxRQUFrQyxLQUFLLGVBQWdCLE1BQUssY0FBYztBQUNoRixVQUFJLEtBQUssTUFBTTtBQUNmLFdBQUssS0FBSyxNQUFNLEtBQUssT0FBTyxLQUFLLFFBQVEsTUFBTSxLQUFLLFNBQVM7QUFDN0QsV0FBSyxLQUFLO0FBQ1YsWUFBTSxLQUFLO0FBQUE7QUFBQTtBQUFBOyIsCiAgIm5hbWVzIjogW10KfQo=
